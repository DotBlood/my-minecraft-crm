<template>
  <div class="bg-white p-6 rounded-xl shadow-lg">
    <h2 class="text-2xl font-bold mb-4">üéüÔ∏è –°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</h2>

    <div v-if="promocodes.length" class="overflow-x-auto">
      <table class="table w-full">
        <thead>
          <tr>
            <th>ID</th>
            <th>–ö–æ–¥</th>
            <th>–°–∫–∏–¥–∫–∞</th>
            <th>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="promo in promocodes" :key="promo.id">
            <td>{{ promo.id }}</td>
            <td>{{ promo.code }}</td>
            <td>{{ promo.discount }}%</td>
            <td>{{ promo.usageCount }}</td>
            <td>
              <button @click="deletePromo(promo.id)" class="btn btn-sm btn-error">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <p v-else class="text-center text-lg text-base-content/50">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</p>
  </div>
</template>

<script setup>
import { defineProps, defineEmits } from "vue";

const props = defineProps({
  promocodes: {
    type: Array,
    required: true,
  },
});

const emit = defineEmits(["deletePromo"]);

const deletePromo = (id) => {
  emit("deletePromo", id);
};
</script>